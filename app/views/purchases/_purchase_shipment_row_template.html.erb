<script type="text/x-tmpl" id="purchases-purchase-shipment-row-template">
<tr class="purchase-shipment-row">
  <input
    type="hidden"
    name="purchase[purchase_details_attributes][{%= data.num_rows %}][purchase_shipments_attributes][{%= o.index %}][id]"
    value="{%= o.id %}"
    class="purchase_detail_id"
    />
  <td>
    <div class="form-group">
      <input
        type="number"
        class="quantity-received form-control"
        value="{%= o.quantity_received %}"
        name="purchase[purchase_details_attributes][{%= data.num_rows %}][purchase_shipments_attributes][{%= o.index %}][quantity_received]"
        placeholder="Enter quantity received"
        />
    </div>
  </td>
  <td>
    <div class="form-group">
      <input
        type="text"
        class="received-at form-control"
        value="{%= o.received_at %}"
        name="purchase[purchase_details_attributes][{%= data.num_rows %}][purchase_shipments_attributes][{%= o.index %}][received_at]"
        placeholder="Enter date received"
        />
    </div>
  </td>
  <td>
    <div class="form-group">
      <input
        type="text"
        class="tracking-number form-control"
        value="{%= o.tracking_number %}"
        name="purchase[purchase_details_attributes][{%= data.num_rows %}][purchase_shipments_attributes][{%= o.index %}][tracking_number]"
        placeholder="Enter a tracking number"
      />
    </div>
  </td>
  <td class="row-action-buttons">
    <button class="btn btn-danger delete-this-shipment-button" title="Delete this shipment record">
      <span class="glyphicon glyphicon-trash"></span>
    </button>
  </td>
</tr>
</script>

<script type="text/x-tmpl" id="purchases-deleted-purchase-shipment-row-template">
  <input
    type="hidden"
    name="purchase[purchase_details_attributes][{%= o.purchaseDetailId %}][purchase_shipments_attributes][{%= o.index %}][id]"
    value="{%= o.id %}"
  />
  <input
    type="hidden"
    name="purchase[purchase_details_attributes][{%= o.purchaseDetailId %}][purchase_shipments_attributes][{%= o.index %}][_delete]"
    value="1"
  />
</script>

<script type="text/x-tmpl" id="purchases-purchase-shipment-table-template">

  <div class="row">
    <div class="col-xs-6 col-xs-offset-6">
      <table class="table purchase-shipments-table" id="purchases-purchase-shipment-table-{%= o.purchaseDetailId %}">
        <thead>
          <tr>
            <th>Quantity</th>
            <th>Received</th>
            <th>Tracking</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="2" class="text-left">
              Quantity remaining: {%= o.quantityRemaining %}
            </td>
            <td colspan="2" class="text-right">
              <button
                class="btn btn-default btn-sm purchases-purchase-detail-add-shipment-button"
                type="button" title="Add another shipment for this purchase item"
                data-for-purchase-detail-id="{%= o.purchaseDetailId %}"
              >
                <span class="glyphicon glyphicon-plus"></span>
                Add shipment
              </button>
            </td>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>

</script>
