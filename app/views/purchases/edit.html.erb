<% content_for :title, "Edit Purchase" %>

<% content_for :content do %>
  <%= render partial: "purchases/templates/deleted_purchase_row" %>
  <%= render partial: "purchases/templates/deleted_purchase_shipment_row" %>
  <%= render partial: "purchases/templates/purchase_item_options" %>
  <%= render partial: "purchases/templates/purchase_row" %>
  <%= render partial: "purchases/templates/purchase_shipment_row" %>
  <%= render partial: "purchases/templates/purchase_shipment_table" %>

  <%= javascript_tag do %>
    var data = data || {};
    data.categories = <%= Category.to_json.html_safe %>;
    data.purchase = <%= @serialized.html_safe %>;
    data.vendors = <%= @vendors.to_json.html_safe %>;

    <!-- addPurchaseRows(); -->
  <% end %>

  <%= form_for @purchase, html: { data: { live_guarded: true } } do |f| %>
    <%= render partial: "purchases/purchase_header", locals: { f: f } %>
    <%= render partial: "purchases/purchase_table", locals: { f: f } %>
    <%= render partial: "purchases/purchase_buttons", locals: { f: f, purchase: @purchase } %>
  <% end %>
<% end %>
